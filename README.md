## Σχεδίαση και Χρήση Βάσεων Δεδομένων - Εργασία 1 (Σύστημα Διαχείρισης Ακινήτων Airbnb)

Αυτή η πλατφόρμα στοχεύει στη δημιουργία ενός ολοκληρωμένου συστήματος διαχείρισης ακινήτων, όπου οι χρήστες μπορούν να κάνουν κρατήσεις καταλυμάτων ή να τα οργανώνουν σε λίστες που τους ενδιαφέρουν, ενώ παράλληλα υποστηρίζονται λειτουργίες όπως διαχείριση πληρωμών, επικοινωνία μεταξύ χρηστών και σύστημα αξιολογήσεων. Παρακάτω, περιγράφεται η σχεδίαση της βάσης δεδομένων που υποστηρίζει τη λειτουργία της.

##  Α' ΜΕΡΟΣ 

### **Χρήστες (Users)**:
#### Στην πλατφόρμα διαχείρισης ακινήτων, οι χρήστες μπορούν να έχουν δύο βασικούς ρόλους:
  - Φιλοξενούμενοι
  - Οικοδεσπότες
  - Σε ορισμένες περιπτώσεις, ένας χρήστης μπορεί να έχει και τους δύο ρόλους, δηλαδή να είναι και οικοδεσπότης και φιλοξενούμενος. Προκειμένου να υλοποιηθεί αυτό, δημιουργούνται τα χαρακτηριστικά Is_Manager τύπου `boolean` και το Is_host τύπου `boolean`. Οι συνεργάτες διαχείρισης ακινήτων και οι εκπρόσωποι του οικοδεσπότη είναι κατά βάση χρήστες, ενώ η σχέση τους με άλλους χρήστες προσδιορίζεται από την παρακάτω συσχέτιση.


#### **Συσχέτιση Χρηστών (Users_Are_Related_With_Users)**

Υπάρχει συσχέτιση χρήστη με χρήστη, και η μεταξύ τους σχέση μπορεί να είναι:

- Οικοδεσπότης - Φιλοξενούμενος
- Οικοδεσπότης - Εκπρόσωπος Ακινήτου
- Εκπρόσωπος Ακινήτου - Φιλοξενούμενος
- Φιλοξενούμενος - Φιλοξενούμενος  

Η συσχέτιση καθορίζεται από τους αριθμούς τηλεφώνων των χρηστών, ενώ το χαρακτηριστικό `type_of_relationship` προσδιορίζει τη μεταξύ τους σχέση.

#### **Μηνύματα**

- Ταυτόχρονα, η αλληλεπίδραση μεταξύ των χρηστών επιτυγχάνεται μέσω της συσχέτισης `Messages` η οποία προσδιορίζεται μοναδικά από τα τηλέφωνα των χρηστών και έχει ως επιπλέον χαρακτηριστικά το κείμενο των μηνυμάτων, καθώς και την ημερομηνία της συνομιλίας. 

 
 ### **Yποστηρικτές (Supporters)** 
 
 Οι υποστηρικτές αποτελούν μια   ξεχωριστή οντότητα και συνδέονται με τους οικοδεσπότες ακινήτων μέσω σχέσης n:m. Το `Role` αποτελεί χαρακτηριστικό της συσχέτισης μεταξύ χρηστών και υποστηρικτών, αφού διευκρινίζει τον ρόλο που παίζουν οι τελευταίοι.  


### Ακίνητα
Τα ακίνητα αποτελούν το βασικό αντικείμενο της πλατφόρμας και καταχωρούνται από τους οικοδεσπότες.

 - Κάθε ακίνητο έχει ως κλειδί ένα σύνολο χαρακτηριστικών `Location, Address, Building_Number` και συνοδεύεται από λεπτομερείς πληροφορίες (χαρακτηριστικά της οντότητας), όπως είναι ο τίτλος, η περιγραφή, η ακριβής τοποθεσία, η τιμή ανά διανυκτέρευση, 
ο μέγιστος αριθμός επισκεπτών, καθώς και οι διαθέσιμες παροχές.

- Επιπλέον, τα ακινήτα συνδέονται με **φωτογραφίες (Photos)**. Δεδομένου ότι ενδέχεται να υπάρχουν πολλές φωτογραφίες για το ίδιο κατάλυμα η σχέση καταλυμάτων-φωτογραφιών είναι 1:n.

- Τα ακίνητα συνδέονται μοναδικά με τον οικοδεσπότη και μέσω αυτού με τους εκπροσώπους του.

#### **Πολιτικές - Κανόνες (Policies)**
- Με την οντότητα αυτή περιγράφονται οι πολιτικές που μπορεί να διαθέτει ένα ακίνητο, όπως είναι η απαγόρευση κατοικίδιων ή ελάχιστη διάρκεια 
διαμονής, δημιουργείται η οντότητα αυτή. Με τη λογική ότι σε κάθε ακίνητο μπορεί να εφαρμόζονται πολλές πολιτικές και το αντίστροφο, η σχέση αυτή είναι n:m.

#### **Εκπτώσεις (Estate_Discount)**
- Οι εκπτώσεις (`Estate_Discount`) αποτελούν μια ξεχωριστή οντότητα με συγκεκριμένα χαρακτηριστικά, όπως είναι το ποσοστό της έκπτωσης, και η περίοδος της έκπτωσης. Η σχέση αυτή είναι n:m, επειδή μια έκπτωση μπορεί να εφαρμόζεται σε πολλά καταλύματα και ένα συγκεκριμένο κατάλυμα μπορεί να δέχεται πολλαπλές εκπτώσεις.

#### **Πολιτική Ακυρώσεων (Cancelation_Policy)**
- Η πολιτική ακύρωσης συνδέεται με τα ακίνητα με σχέση 1:n, καθώς μία πολιτική ακύρωσης μπορεί να εφαρμοστεί σε περισσότερα από ένα ακίνητα, ενώ κάθε ακίνητο έχει έως μία πολιτική ακύρωσης.




### **Κρατήσεις (Reservations)**
Οι κρατήσεις αποτελούν τη σπουδαιότερη λειτουργία της πλατφόρμας. Η οντότητα αυτή περιέχει χαρακτηριστικά όπως είναι η ημερομηνία άφιξης και αναχώρησης, ο μέγιστος αριθμός των επισκεπτών, το συνολικό κόστος 
και την κατάσταση της κράτησης, καθώς και το πότε έγινε η κράτηση.

- Η κράτηση αποτελεί τον "συνδεκτικό κρίκο" μεταξύ ακινήτου - φιλοξενούμενου.
- Επιπλέον, οι πληρωμές αποτελούν χαρακτηριστικά των κρατήσεων, αφού προσδιορίζονται από τον τρόπο πληρωμής και το συνολικό κόστος της διαμονής.

#### **Ιστορικό Συναλλαγών (Payment)**
- Το ιστορικό πληρωμών προκύπτει άμεσα από τη λειτουργικότητα (4) που προστέθηκε, αποφεύγοντας την επανάληψη πληροφορίας.

#### **Αξιολογήσεις (Reviews)**
- Η αξιολόγηση ενός καταλύματος από έναν φιλοξενούμενο, καθώς και η αξιολόγηση ενός φιλοξενούμενου από έαν οικοδεσπότη πραγματοποιείται μέσω των  κρατήσεων, αφού αυτές έχουν 1:1 σχέση με τις αξιολογήσεις **(Reviews)**.

#### **Λίστα Επιθυμιών**
- Η λίστα επιθυμιών αποτελεί συσχέτιση χρηστών - καταλυμάτων. Με τη λογική ότι ένας χρήστης μπορεί να εκδηλώνει ενδιαφέρον για πολλαπλά καταλύματα, αλλά και ότι ένα συγκεκριμένο ακίνητο ενδέχεται να προτιμάται από πολλούς χρήστες, η σχέση αυτή είναι n:m. Επιπλέον χαρακτηριστικό αυτής της συσχέτισης αποτελεί το όνομα της λίστας στο οποίο ο χρήστης προσθέτει ένα ακίνητο (λίστα επιθυμιών ή αγαπημένα).


### Ημερολόγιο (Calendar)
- Η διαχείριση των ημερομηνιών από τους οικοδεσπότες γίνεται μέσω των ακινήτων, τα οποία συνδέονται μοναδικά στο ημερολόγιο καταγραφής των ημερομηνιών που τους έχει γίνει κράτηση.

### Ανταποδοτικά Προγράμματα
- Οι ανταμοιβές μπορούν να προσφερθούν σε πολλούς χρήστες, και κάθε χρήστης μπορεί να έχει πολλές ανταμοιβές. Επομένως η σύνδεσή τους είναι n:m.


### Σύστημα Υποστήριξης
- Το σύστημα παραπόνων υλοποιείται μέσω του **Maintenance_Request**, το οποίο συνδέεται με την κράτηση που αφορά το παράπονο, τον φιλοξενούμενο, και τον οικοδεσπότη. Επιπλέον, υπάρχει σύνδεση των παραπόνων με τους  **Αdministrator** που αποτελούν την ομάδα υποστήριξης της πλατφόρμας και είναι μια ξεχωριστή οντότητα.

---

# Β' ΜΕΡΟΣ

### 1. Προώθηση Καταλύματος / Διαφήμιση
- Κάθε κατάλυμα έχει 0-5 μονάδες προώθησης `(Promotion_Points)`, οι οποίες καθορίζουν την προτεραιότητά του στην αναζήτηση.
- Κάθε μονάδα αυξάνει την τιμή κατά +2%. Το αντίτιμο για κάθε μονάδα καταβάλλεται από τον οικοδεσπότη.  
  **Παράδειγμα:**  
  Αν το σπίτι κοστίζει $100 και θέλω 2 μονάδες για προώθηση, πληρώνω $4.

### 2. Σύνδεση με Κοινωνικά Δίκτυα
- Ένας χρήστης μπορεί να συνδεθεί ευκολότερα εάν διαθέτει λογαριασμό σε κοινωνικό δίκτυο (social media), καθώς υπάρχει αυτόματη σύνδεση των στοιχείων του. Το κλειδί στην οντότητα **Social Media** είναι ο αριθμός τηλεφώνου, αφού ένας οικοδεσπότης μπορεί να διαθέτει ένα επαγγελματικό κι έναν προσωπικό αριθμό τηλεφώνου. 

### 3. Αύξηση Τιμής σε Εποχές Υψηλής Ζήτησης
- Οι διαχειριστές της πλατφόρμας μπορούν να καθορίσουν ημερομηνίες υψηλής ζήτησης μέσω του `high_season_calendar` και να προτείνουν ποσοστιαίες προσαυξήσεις.
- Οι οικοδεσπότες ενημερώνονται για αυτές μέσω των ακινήτων τους και έχουν δικαίωμα επιλογής ως προς την εφαρμογή τους.

### 4. Πολλοί Χρήστες, Ένας Κοινός Λογαριασμός
- Κάθε κράτηση μπορεί να εξοφλείται από πολλούς φιλοξενούμενους μέσω ενός `Payment`.
- Οι φιλοξενούμενοι μπορούν να επιλέξουν το μέρος του ποσού της κράτησης που θα εξοφλήσουν, καθώς και τον τρόπο πληρωμής.

### 5. Αποκλεισμοί (Ban)
- Όποιος χρήστης παραβιάζει τους κανόνες που έχουν θεσπιστεί από τους διαχειριστές (**Administrators**) μπορεί να αποκλειστεί από την πλατφόρμα.
- Ο αποκλεισμός γίνεται μέσω της συσχέτισης `Administrator_bans_Users` και ο λόγος αποκλεισμού αναγράφεται στο χαρακτηριστικό `reason`.


*Για την υλοποίηση της εργασίας συνεργάστηκαν οι:*

* Ντάλλας Χρήστος (ΑΜ: 1115202300244)
* Φακιδάρης Σπυρίδων (ΑΜ: 1115202300143)
* Κουκή Γεωργία (ΑΜ: 1115202300082)
